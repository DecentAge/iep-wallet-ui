<!-- <div class="row">
  <div class="col-sm-12">
    <div class="card">
      <div class="card-header">
        <h4 class="card-title">Create AT</h4>
      </div>
      <div class="card-body">
        <div class="card-block ml-3 mr-3">
          <aw-wizard [navBarLayout]="'large-filled-symbols'">
            <aw-wizard-step stepTitle="Details" [navigationSymbol]="{ symbol: '1' }">
              <form class="form">
                <div class="form-body">
                  <div class="row">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label>NAME</label>
                        <input type="text" class="form-control"  placeholder="Currency Name">
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label>CODE</label>
                        <div class="input-group">
                          <input type="number" class="form-control" placeholder="Currency Code">
                          <div class="input-group-append">
                            <span class="input-group-text">XIN</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="form-group">
                        <label>CURRENCY DESCRIPTION</label>
                        <div class="position-relative">
                          <textarea rows="5" class="form-control" placeholder="Currency Description"></textarea>
                        </div>
                      </div>
                      <div class="form-actions left">
                        <button type="button" class="btn btn-primary mr-1 mb-0 float-right" awNextStep>
                          <i class="fa fa-chevron-right"></i> Next
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </aw-wizard-step>
            <aw-wizard-step stepTitle="Options" [navigationSymbol]="{ symbol: '2' }">
              <form class="form">
                <div class="form-body">
                  <div class="row">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label>CURRENCY TYPE</label>
                        <div class="custom-control custom-control-inline">
                          <input type="checkbox">
                          <label >Exchangeable</label>
                        </div>
                        <div class="custom-control custom-control-inline">
                          <input type="checkbox">
                          <label>Controllable</label>
                        </div>
                        <div class="custom-control custom-control-inline">
                          <input type="checkbox">
                          <label>Reservable</label>
                        </div>
                        <div class="custom-control custom-control-inline">
                          <input type="checkbox">
                          <label>Claimable</label>
                        </div>
                        <div class="custom-control custom-control-inline">
                          <input type="checkbox">
                          <label>Non Shuffleable</label>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label>CURRENCY DECIMALS</label>
                        <div class="input-group">
                          <input type="number" class="form-control" placeholder="Currency Code">
                          <div class="input-group-append">
                            <span class="input-group-text">DIGITS</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <hr/>
                  <div class="row">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label>INITIAL SUPPLY </label>
                        <div class="input-group">
                          <input type="number" class="form-control" placeholder="Currency Code">
                          <div class="input-group-append">
                            <span class="input-group-text">UNITS</span>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label>TOTAL SUPPLY</label>
                        <div class="input-group">
                          <input type="number" class="form-control" placeholder="Currency Code">
                          <div class="input-group-append">
                            <span class="input-group-text">UNITS</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="form-actions">
                    <button type="button" class="btn btn-primary mr-1 mb-0 float-right" awNextStep>
                      <i class="fa fa-chevron-right"></i> Next
                    </button>
                    <button type="button" class="btn btn-primary mr-1 float-right" awPreviousStep>
                      <i class="fa fa-chevron-left"></i> Previous
                    </button>
                  </div>
                </div>
              </form>
            </aw-wizard-step>
            <aw-wizard-step stepTitle="Confirm" [navigationSymbol]="{ symbol: '3' }">
              <div class="row">
                <div class="col-md-4">
                  <div class="ucsb"> NAME
                  </div>
                  <h6> xyz </h6>
                </div>
                <div class="col-md-4">
                  <div class="ucsb"> TICKER
                  </div>
                  <h6 > xyz </h6>
                </div>
                <div class="col-md-4">
                  <div class="ucsb"> DESCRIPTION
                  </div>
                  <h6 > 100 </h6>
                </div>
              </div>
              <hr/>
              <div class="row">
                <div class="col-md-4">
                  <div class="ucsb"> DECIMALS
                  </div>
                  <h6> 0 </h6>
                </div>
                <div class="col-md-4">
                  <div class="ucsb"> INITIAL SUPPLY
                  </div>
                  <h6>12 UNITS</h6>
                </div>
                <div class="col-md-4">
                  <div class="ucsb"> MAX SUPPLY
                  </div>
                  <h6>12 UNITS</h6>
                </div>
              </div>
              <hr/>
              <div class="row">
                <div class="col-md-4">
                  <div class="ucsb"> VALID
                  </div>
                  <h6><i class="fa fa-times"> </i> </h6>
                </div>
                <div class="col-md-4">
                  <div class="ucsb"> SERVICE FEE
                  </div>
                  <h6>0.00 XIN</h6>
                </div>
              </div>
              <hr>
              <button type="button" [ngClass]="{'btn-success': !hasPrivateMessage, 'btn-danger': hasPrivateMessage}" class="btn btn-raised mb-0"
                      (click)="hasPrivateMessage=!hasPrivateMessage">
                <i class="fa fa-key"></i> {{ hasPrivateMessage ? 'Remove' : 'Add' }} Signed Transaction
              </button>
              <hr *ngIf="hasPrivateMessage">

              <div class="form-group" *ngIf="hasPrivateMessage">
                <label>MESSAGE (MAX. 160 CHARS)</label>
                <div class="position-relative">
                  <textarea rows="5" class="form-control" name="notes"></textarea>
                </div>
              </div>
              <hr>
              <div class="form-actions">
                <button type="button" class="btn btn-primary float-right">
                  <i class="fa fa-check"></i> Finish
                </button>
                <button type="button" class="btn btn-primary mr-1 float-right" awPreviousStep>
                  <i class="fa fa-chevron-left"></i> Previous
                </button>
              </div>
            </aw-wizard-step>
          </aw-wizard>
        </div>
      </div>
    </div>
  </div>
</div> -->

<div class="row">
  <div class="col-sm-12">
    <div class="card">
      <div class="card-block main-card-block">
        <div class="border-bt">
          <h2 class="main-title">Issue Currency</h2>
          <app-breadcrumb [routeChange]="routeChange"></app-breadcrumb>
        </div>
      </div>
      <div class="card-body">
        <div class="card-block ml-3 mr-3">
          <aw-wizard [navBarLayout]="'large-filled-symbols'">
            <aw-wizard-step stepTitle="Details" [navigationSymbol]="{ symbol: '1' }">
              <form class="form inner-form" #f1="ngForm" novalidate>
                <div class="form-body">
                  <div class="row mt-4">
                    <div class="col-md-6">
                      <div class="form-group m-0">
                        <label>Name
                          <i class="fa fa-question-circle-o" 
                            triggers="mouseenter:mouseleave" 
                            container="body"
                            placement="right" 
                            ngbPopover="The currency name is unique. Should be between 3-10 characters and longer than the currency code. Once submitted, you will not be able to change this information again, ever. Make sure it is correct.">
                          </i>
                        </label>
                        <div class="m-0">
                          <input type="text" class="form-control" [(ngModel)]="issueCurrencyForm.name" name="name" #name="ngModel" minlength="3" maxlength="10"
                            required>
                          <div *ngIf="name?.invalid && (name?.dirty || name?.touched)" class="input-error">
                            <div *ngIf="name?.errors.required">
                              Name is required
                            </div>
                            <div *ngIf="name?.errors.minlength">
                              Name must contain at least the 3 characters
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group m-0">
                        <label>Code
                          <i class="fa fa-question-circle-o"
                            triggers="mouseenter:mouseleave"
                            container="body"
                            placement="right"
                            ngbPopover="The currency code is unique. Its composed of 3-6 upper case letters. Once submitted, you will not be able to change this information again, ever. Make sure it is correct.">
                          </i>
                        </label>
                        <div class="m-0">
                          <input type="text" class="form-control" [(ngModel)]="issueCurrencyForm.code" name="code" #code="ngModel" minlength="3" maxlength="6"
                            required>
                          <div *ngIf="code?.invalid && (code?.dirty || code?.touched)" class="input-error">
                            <div *ngIf="code?.errors.required">
                              Code is required
                            </div>
                            <div *ngIf="code?.errors.minlength">
                              Code must contain at least 3 characters
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
              
                  <div class="form-group">
                    <label>Description
                      <i class="fa fa-question-circle-o" 
                        triggers="mouseenter:mouseleave"
                        container="body"
                        placement="right"
                        ngbPopover="Currency description with max. 1.000 characters. Once submitted, you will not be able to change this information again, ever. Make sure it is correct.">
                      </i>
                    </label>
                    <div class="position-relative">
                      <textarea rows="5" class="form-control" [(ngModel)]="issueCurrencyForm.description" name="description" #description="ngModel" required></textarea>
                      <div *ngIf="description?.invalid && (description?.dirty || description?.touched)" class="input-error">
                        <div *ngIf="description?.errors.required">
                          Description is required
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="mt-4 mb-4 left">
                  <button type="button" [disabled]="f1.invalid" (click)="getBlockChainStatus()" class="btn btn-gradient mr-1 mb-0 float-right" awNextStep>
                    <i class="fa fa-chevron-right"></i> Next
                  </button>
                </div>
              </form>
            </aw-wizard-step>
            <aw-wizard-step stepTitle="Details" [navigationSymbol]="{ symbol: '2' }">
              <form class="form inner-form" #f2="ngForm" novalidate>
                <div class="form-body">
                  <div class="row mt-4">
                    <div class="col-md-6">
                      <div class="form-group m-0">
                        <label>Currency Type
                          <i class="fa fa-question-circle-o" 
                            triggers="mouseenter:mouseleave" 
                            container="body"
                            placement="right"
                            ngbPopover="Exchangable, can be exchanged with XIN. Controllable; transfers only from, to issuer. Exchange offers allowed only from issuer.">
                          </i>
                        </label>
                        <div *ngFor="let currency of currencyTypes;index as i" class="custom-control custom-control-inline">
                          <input type="checkbox" id="option-{{i}}" (change)="onTypesChange(issueCurrencyForm2.types)" name="{{currency|currencyModel}}" [(ngModel)]="issueCurrencyForm2.types[currency]">
                          <label for="option-{{i}}">{{currency|currencyModel}}</label>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group m-0">
                        <label>Currency Decimals
                          <i class="fa fa-question-circle-o"
                            triggers="mouseenter:mouseleave"
                            container="body"
                            placement="right"
                            ngbPopover="The maximum allowed number of digits after the asset quantity decimal point.">
                          </i>
                        </label>
                        <div class="input-group m-0">
                          <input type="number" class="form-control" [(ngModel)]="issueCurrencyForm2.decimals" name="decimals"
                            #decimals="ngModel" [minValue]="0" [maxValue]="4" required>
                          <div class="input-group-append">
                            <span class="input-group-text">
                              DIGITS
                            </span>
                          </div>
                        </div>
                        <div *ngIf="decimals?.invalid && (decimals?.dirty || decimals?.touched)" class="input-error">
                          <div *ngIf="decimals?.errors.required">
                            Currency Decimals is required
                          </div>
                          <div *ngIf="decimals?.errors.minValue && !decimals?.errors.required">
                            Currency Decimals must be greater than equal to 0
                          </div>
                          <div *ngIf="decimals?.errors.maxValue && !decimals?.errors.required">
                            Currency Decimals must be less than equal to 4
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
             
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group m-0">
                        <label>Initial Supply
                          <i class="fa fa-question-circle-o"
                            triggers="mouseenter:mouseleave"
                            container="body"
                            placement="right"
                            ngbPopover="The initial currency supply. Multiplied by number of decimals gives the smalles currency unit to trade or transfer.">
                          </i>
                        </label>
                        <div class="input-group m-0">
                          <input type="number" class="form-control" (input)="onInitialSupplyChange()" [(ngModel)]="issueCurrencyForm2.initialSupply" name="initialSupply"
                          #initialSupply="ngModel" [minValue]="1" required>
                          <div class="input-group-append">
                            <span class="input-group-text">
                              UNITS
                            </span>
                          </div>
                        </div>
                        <div *ngIf="initialSupply?.invalid && (initialSupply?.dirty || initialSupply?.touched)" class="input-error">
                          <div *ngIf="initialSupply?.errors.required">
                            Iinitial Supply is required
                          </div>
                          <div *ngIf="initialSupply?.errors.minValue && !initialSupply?.errors.required">
                            Initial Supply must be greater than equal to 1
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group m-0">
                        <label>Total Supply
                          <i class="fa fa-question-circle-o"
                            triggers="mouseenter:mouseleave"
                            container="body"
                            placement="right"
                            ngbPopover="Total currency supply used for reservable/claimable currencies like crowdfunding token. For all other currency type total supply has to be equal to initial supply.">
                          </i>
                        </label>
                        <div class="input-group m-0">
                          <input type="number" class="form-control" [attr.disabled]="true" [(ngModel)]="issueCurrencyForm2.maxSupply" name="maxSupply"
                          #maxSupply="ngModel" [minValue]="1" required>
                          <div class="input-group-append">
                            <span class="input-group-text">
                              UNITS
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div [hidden]="!reservable" class="row">
                    <div class="col-md-6">
                      <div class="form-group m-0">
                        <label>Min Amount Per Unit
                          <i class="fa fa-question-circle-o"
                            triggers="mouseenter:mouseleave"
                            container="body"
                            placement="right"
                            ngbPopover="Min Amount Per Unit.">
                          </i>
                        </label>
                        <div class="input-group m-0">
                          <input type="number" class="form-control" [(ngModel)]="issueCurrencyForm2.minAmount" name="minAmount">
                          <div class="input-group-append">
                            <span class="input-group-text">
                              XIN
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group m-0">
                        <label>Reserve Supply
                          <i class="fa fa-question-circle-o"
                            triggers="mouseenter:mouseleave"
                            container="body"
                            placement="right"
                            ngbPopover="Reserve Supply">
                          </i>
                        </label>
                        <div class="input-group m-0">
                          <input type="number" class="form-control" [(ngModel)]="issueCurrencyForm2.reserveSupply" name="reserveSupply">
                          <div class="input-group-append">
                            <span class="input-group-text">
                              UNITS
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group m-0">
                        <label>Activation Height
                          <i class="fa fa-question-circle-o"
                            triggers="mouseenter:mouseleave"
                            container="body"
                            placement="right"
                            ngbPopover="Activation Height.">
                          </i>
                        </label>
                        <div class="input-group m-0">
                          <input type="number" class="form-control" [(ngModel)]="issueCurrencyForm2.activHeight" name="activHeight">
                          <div class="input-group-append">
                            <span class="input-group-text">
                              @BLOCK
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="mt-4 mb-4">
                  <button type="button" [disabled]="f2.invalid" class="btn btn-gradient mr-1 mb-0 float-right" (click)="issueCurrency()" awNextStep>
                    <i class="fa fa-chevron-right"></i> Next
                  </button>
                  <button type="button" class="btn btn-gradient mr-1 float-right" awPreviousStep>
                    <i class="fa fa-chevron-left"></i> Previous
                  </button>
                </div>
              </form>
            </aw-wizard-step>
            <aw-wizard-step stepTitle="Confirm" [navigationSymbol]="{ symbol: '3' }" class="form-bordered mt-4">
              <div class="row">
                <div class="col-md-4">
                  <div class="ucsb"> Name
                  </div>
                  <h4> {{issueCurrencyForm.name}} </h4>
                </div>
                <div class="col-md-4">
                  <div class="ucsb"> Ticker
                  </div>
                  <h4> {{issueCurrencyForm.code}} </h4>
                </div>
                <div class="col-md-4">
                  <div class="ucsb"> Description
                  </div>
                  <h4> {{issueCurrencyForm.description}} </h4>
                </div>
              </div>
             
              <div class="row">
                <div class="col-md-4">
                  <div class="ucsb"> Decimals
                  </div>
                  <h4> {{issueCurrencyForm2.decimals}}
                    <small> UNITS </small>
                  </h4>
                </div>
                <div class="col-md-4">
                  <div class="ucsb"> Initial Supply
                  </div>
                  <h4> {{issueCurrencyForm2.initialSupply}}
                    <small> UNITS </small>
                  </h4>
                </div>
                <div class="col-md-4">
                  <div class="ucsb"> Max Supply
                  </div>
                  <h4> {{issueCurrencyForm2.maxSupply}} </h4>
                </div>
              </div>
          
              <div class="row">
                <div class="col-md-4">
                  <div class="ucsb"> Valid
                  </div>
                  <h4 [innerHTML]="validBytes | txIsValid"> </h4>
                </div>
                <div class="col-md-4">
                  <div class="ucsb"> Service Fee
                  </div>
                  <h4> {{ tx_fee | amountTkn }}
                    <small> XIN</small>
                  </h4>
                </div>
              </div>
      
              <button type="button" [ngClass]="{'btn-success': !unsignedTx, 'btn-danger': unsignedTx}" class="btn btn-raised mr-1 mb-0" (click)="unsignedTx = !unsignedTx">
                <i class="fa fa-key"></i> Signed Transaction
              </button>
            <!--   <hr *ngIf="unsignedTx"> -->
              <div class="form-group" *ngIf="unsignedTx">
                <div class="position-relative sign_in_inputs">
                  <textarea disabled="true" rows="3" type="text" [(ngModel)]="transactionBytes" class="form-control" name="key"></textarea>
                </div>
              </div>
              <div class="mt-4">
                <button type="button" [disabled]="!validBytes" class="btn btn-gradient float-right" (click)="broadcastTransaction(transactionBytes)">
                  <i class="fa fa-check"></i> Finish
                </button>
                <button type="button" class="btn btn-gradient mr-1 float-right" awPreviousStep>
                  <i class="fa fa-chevron-left"></i> Previous
                </button>
              </div>
            </aw-wizard-step>
          </aw-wizard>
        </div>
      </div>
    </div>
  </div>
</div>
